2.
计算机网络性能  
速率即比特率 数据率 传输速度     额定速率  标称速率
带宽 信号具有的频带宽度，最高频与最低频之差，单位是赫兹
网络中指数字信道所能达到的最大数据率  b/s
延迟/时延    正在传输的分组（延迟） 排队的分组  可用缓存 如果满则丢弃（丢包）
四种分组时延 结点处理延迟  排队延迟  传输延迟  传播延迟
排队延迟（不确定） 流量强度La/R~0 （趋于0）延迟小  接近1 很大  大于1 无限大
时延带宽积=传播时延*带宽    以比特位单位的链路长度
丢包率=丢包数/已发分组总数
吞吐量：发送端与接收端间传送数据速率  即时吞吐量  平均吞吐量    瓶颈链路（限制端到端吞吐量）

计算机网络体系结构
分层结构
每层完成一种（类）特定功能
从功能上描述计算机网络结构  分层   每层遵循网络协议完成功能  各层及协议的集合   功能层次及关系的定义   抽象
分层结构：结构清晰  有利于识别复杂系统的部件及关系      模块化分层易于系统更新维护       有利于标准化
基本概念：实体 表示可发送或接收信息的硬件或软件进程  
协议是控制两个对等实体进行通信的规则的集合，协议是水平的     
任一层实体需要使用下层服务，遵循本层协议，实现本层功能，向上层提供服务，服务是垂直的  
下层协议的实现对上层服务用户是透明的
同系统的相邻层实体间通过接口进行交互，通过服务访问点SAP，交换原语，指定请求的特定服务

OSI参考模型
支持异构网络系统的互联互通  互连的国际标准  理解的学习工具   理论成功
物理层 数据链路层 网络层 传输层 会话层 表示层 应用层
主机完成7层，中间系统只完成下三层（路由器）  传输介质
上四层 端-端层
用户数据（应用层）->  A-PDU P S T N （数据链路层加头加尾传给物理层）
数据封装：增加控制信息（构造PDU）   主要包括 地址 差错检测编码 协议控制

物理层功能：接口特性 比特编码 数据率 比特同步 传输模式 
数据链路层功能：负责结点-结点（帧）数据传输  组帧   物理寻址   流量控制   差错控制   访问（接入）控制
网络层：源主机到目的主机数据分组  逻辑寻址  路由  分组转发  

传输层：（段） 负责源-目的（端-端）进程间完整报文传输       分段与重组  SAP寻址  连接控制  流量控制  差错控制
会话层：对话控制  同步  最‘薄’的一层 实际上不单独存在
表示层：语法和语义     数据表示转化  加密/解密  压缩/解压缩    实际上也不独立
应用层：处理用户数据    支持用户通过用户代理或网络接口使用网络（服务）   FTP SMTP HTTP

TCP/IP模型  网络接口层  网际层  运输层  应用层
everything over ip（网际层）     运输层：TCP  UDP  剩下的应用层
展开为5层：物理层 数据链路层 网络层 传输层 应用层
交换机两层  路由器三层
报文 段 数据报 帧 比特

历史 
61-72早期分组交换原理提出及应用
72-80网络互连，大量新型私有网络涌现
80-90新型网络协议与网络的激增
90-00商业化 web 新应用
05-今



3.应用层
网络应用体系结构  网络应用的服务需求  Internet传输层服务模型  特定网络应用及协议  Socket编程
网络应用体系  与单机应用的本质性不同，应采取什么样的体系结构
客户机/服务器结构（C/S)    点对点（P2P） 混合结构
客户机/服务器  7*24小时提供服务  永久性访问地址域名  利用大量服务器实现可扩展性
客户机  与服务器通信使用提供的服务  间歇性接入  可能使用动态IP  不与其他服务器直接通信
Web  
P2P  没有永远在线服务器  任意端节点可以直接通信  节点间歇性接入网络  节点可能改变IP地址       优点：高度可伸缩    缺点：难于管理
混合：文件传输使用P2P 文件搜索采用c/s

网络应用进程通信
进程：主机上运行的程序
同主机：进程间通信机制  操作系统提供    不同主机：消息交换  客户机进程  服务器进程
套接字Socket    进程间通信利用socket发送/接收消息   类似于寄信   传输基础设施向进程提供API
寻址进程  不同主机上进程间通信每个进程必须拥有标识符   如何寻址主机：IP地址       端口号/Port number    HTTP sever80  Mail Sever25       进程标识符ip+端口号
应用层协议：网络应用需遵循应用层协议      公开协议（RFC定义） 允许互操作 HTTP SMTP      私有协议 p2p
内容：消息类型  消息的语法/格式  字段的语义  规则

网络应用的需求与传输层服务
数据丢失/可靠性  时间/延迟  带宽
Internet提供的传输服务  TCP UDP
TCP面向连接  可靠的传输  流量控制  拥塞控制  不提供时延保障  不提供最小带宽保障
UDP 无连接 不可靠 什么都不提供     【自由】（掌控数据传输）

Web应用 World Wide Web
网页 网页互相链接  多个对象：html文件  jpg图片  视频文件  动态脚本  基本html文件      对象寻址 URL 统一资源定位器RFC1738    Scheme：//host：port/path
http超文本传输协议  c/s  客户：请求接受展示web对象   服务器 响应请求发送对象
使用TCP传输服务   80端口等待客户端  浏览器发起连接socket  接受连接  交换信息  关闭连接         无状态（不维护任何有关客户端过去所发请求的信息）

HTTP连接两种类型：非持久性连接 持久性链接
非持久性连接    
响应时间分析与建模 RTT（round trip time）   响应时间 2*rtt + 文件发送时间
持久性连接{无流水，带流水机制}

HTTP协议消息格式  请求  响应
请求消息：ASCII  请求命令  头部行  
通用格式 方法 url 版本 下面是头部名称 值   下面是实体
上传输入方法：POST方法  填写表格 上传客户端输入（entity body）             URL方法 使用GET 再request行的URL字段
方法类型HTTP/1.0 GET POST HEAD（不将对象放入响应消息）      HTTP/1.1 PUT DELETE
响应消息：状态行  头部行  请求的数据
响应状态代码  200ok  301moved permanently  400bad request  404not found
体验下HTTP telnet

cookie技术   HTTP协议无状态，应用需要服务器掌握客户端状态如网上购物
网站为辨别用户，进行session跟踪而储存在用户本地终端上的数据
HTTP响应消息的cookie头部行，请求消息的cookie头部行，保存在客户端主机上的cookie文件由浏览器管理，web服务器端建立后台数据库
cookie 身份认证 购物车 推荐 webemail  隐私问题

web缓存/代理服务器技术
在不访问服务器前提下满足http请求     目的：缩短客户请求的响应时间 减少机构/组织的流量 大范围内实现有效的内容分发
用户设定浏览器通过缓存进行web访问  浏览器向缓存/代理服务器发送所有http请求      缓存既充当客户当也充当服务器  一般由ISP架设
条件性GET方法   目标：如果缓存有最新版本，则不需要发送请求对象   缓存：声明所持有版本日期    服务器：如果缓存版本最新则响应消息不包含对象 304not modified

E-mail应用
构成：邮件客户端 邮件服务器 SMTP协议
客户端：读写 交互 outlook foxmail thunderbird web客户端
邮件服务器  邮箱：存储发给该用户的email 消息队列：存储等待发送的email
SMTP 传递消息使用的协议  客户端发送消息  服务器接收消息
采用TCP可靠传输 端口25   三阶段：握手 消息传输 关闭    命令/响应模式    Email消息只能包含7位ASCII码
telnet severname 25 
使用持久性连接  消息由7位ASCII码构成  利用CRLF.CRLF确定消息结束
http拉式  smtp推式   都是用命令/响应交互模式  都是ASCII码   http每个对象封装在独立响应消息中   smtp多个对象在由多个部分构成的消息中发送

smtp email传输交换协议   头部行  消息体
消息格式扩展  多媒体扩展 MIME  邮件头部增加额外行声明MIME内容类型   
邮件访问协议：从服务器获取邮件   POP post office protocol 认证/授权和下载   IMAP internet mail access protocol  HTTP：163，QQmail
认证/事务   下载并删除模式  下载并保持模式  POP3无状态
IMAP 所有消息保存在服务器  允许利用文件夹组织消息  支持跨会话的用户状态

DNS
domain name system    internet上主机/路由器的识别问题  ip地址  域名  两者间映射（域名解析系统dns）
DNS：多层命名服务器构成的分布式数据库  应用层协议：完成名字的解析       互联网核心功能
域名向IP地址翻译   主机别名     邮件服务器别名    负载均衡：Web服务器        单点失败问题 流量问题 距离问题 维护性问题
分布式层次式数据库   根服务器  顶级域名服务器  
DNS根域名服务器  本地域名解析服务器无法解析时访问根域名服务器   如果不知道映射访问权威域名服务器 返回映射
顶级域名服务器com org net edu cn       权威域名服务器（组织内部服务器）
本地域名解析服务器：不严格属于层级体系  每个ISP有一个本地域名服务器  当主机进行DNS查询，被发送到本地域名服务器
DNS查询示例  迭代查询  递归查询
DNS记录缓存和更新  只要域名解析服务器获得域名--IP映射即缓存这一映射    记录的更新/通知机制

DNS记录和消息格式 
DNS记录  资源记录RR resource record  name value type ttl
DNS协议与消息   协议：查询和回复  消息格式相同       消息头部
如何注册域名    域名管理机构注册域名      为网站加入Type A记录  为域名加入Type MX记录
